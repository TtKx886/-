mixed-port:  #æ··åˆä»£ç†æ¨¡å¼
geodata-mode: true
tcp-concurrent: true
allow-lan: true
bind-address: '*'
mode: rule
log-level: error
ipv6: false
external-controller: 0.0.0.0:80
external-ui: dist

hosts:
  'wifi.hot': 198.18.0.1

tun:
  enable: true
  device: tunDev
  stack: gvisor
  dns-hijack:
    - 'any:53'
  auto-route: false
  auto-detect-interface: false

dns:
  enable: true
  #listen: 0.0.0.0:8053
  enhanced-mode: redir-host
  nameserver:
    - 'https://1.12.12.12/dns-query#ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520' #åç¼€#ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520æ„ä¸ºä½¿ç”¨ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520èŠ‚ç‚¹ä»£ç†
    - 'https://223.5.5.5/dns-query#ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520'
    - 'https://101.198.192.33/dns-query#ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520'
  proxy-server-nameserver:  #å½“proxyé‡Œçš„serverä¸ºåŸŸåæ—¶ï¼Œä½¿ç”¨è¯¥åˆ—è¡¨é‡Œçš„dnsæœåŠ¡å™¨è§£æ
    - 'https://1.12.12.12/dns-query#ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520'
    - 'https://223.5.5.5/dns-query#ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520'
    - 'https://101.198.192.33/dns-query#ğŸ¼ç”µæŠ¥é¢‘é“:@Whitelist520'

# ç”µæŠ¥é¢‘é“:@Whitelist520èŠ‚ç‚¹
baidu: &baidu
  type: http
  port: 443
  headers:
    X-T5-Auth: "683556433"
    Host: 153.3.236.22:443
        
           
CF443: &CF443
    type: vless
    uuid: 8266d288-39ce-44ba-9c9c-9e62b28a44b8
    udp: true
    tls: true
    network: ws
    servername: ikun.almp.link # priority over wss host
    # skip-cert-verify: true
    ws-opts:
      path: "/?ed=2048"
      headers:
        Host: ikun.almp.link     
        
        
MF: &MF
    type: vmess
    uuid: 418048af-a293-4b99-9b0c-98ca3580dd24
    alterId: 64
    cipher: auto
    udp: true
    skip-cert-verify: true
    network: tcp
    ws-opts:
      path: /
      headers:
         Host: v9-dy.ixigua.com
                                  
proxies:
  - name: "ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šè‹å·"
    server: 157.0.148.53
    <<: *baidu
  - name: "ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šä¿å®š"
    server: 110.242.70.69
    <<: *baidu
  - name: "ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šå¹¿å·"
    server: 157.255.78.51
    <<: *baidu
  - name: "ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šå—äº¬"
    server: 153.3.236.22
    <<: *baidu
  - name: "ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šåŸŸå"
    server: cloudnproxy.baidu.com
    <<: *baidu    

    
  - name: "Proxy"
    server: ikun.almp.link
    port: 443
    <<: *CF443    
    
  - name: "Domestic"
    server: 175.27.154.61
    port: 50002
    <<: *MF


proxy-groups:
  - name: ç”µæŠ¥é¢‘é“:@Whitelist520
    type: select
    proxies:  
      - ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šè‹å·
      - ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šä¿å®š          
      - ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šå¹¿å·
      - ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šå—äº¬
      - ç”µæŠ¥é¢‘é“:@Whitelist520ï¼šåŸŸå
      - DIRECT
                  
  - name: é˜¿çµ
    type: relay 
    proxies:
      - ç”µæŠ¥é¢‘é“:@Whitelist520
      - Domestic

  - name: åˆ†äº«
    type: relay
    proxies:
      - ç”µæŠ¥é¢‘é“:@Whitelist520
      - Proxy

rules:
  - GEOSITE,category-ads-all,REJECT     #å¹¿å‘Šæ‹¦æˆª
  - IP-CIDR,127.0.0.0/8,DIRECT          #æŒ‡å®šIPèŒƒå›´æ”¾è¡Œ
  - IP-CIDR,192.168.0.0/16,DIRECT,no-resolve
  #- DST-PORT,9999,DIRECT                #æŒ‡å®šç›®æ ‡ç«¯å£èŒƒå›´æ”¾è¡Œ
  - AND,((GEOIP,cn),(NETWORK,UDP)),é˜¿çµ
  - AND,((DST-PORT,22/446/30443),(GEOSITE,geolocation-cn)),åˆ†äº«
  - AND,((DST-PORT,22/446/30443),(GEOIP,cn)),åˆ†äº«
  - GEOIP,telegram,åˆ†äº«  
  - GEOSITE,geolocation-!cn,åˆ†äº«
  - GEOIP,!cn,åˆ†äº«
  - MATCH,ç”µæŠ¥é¢‘é“:@Whitelist520     #å…œåº•è§„åˆ™